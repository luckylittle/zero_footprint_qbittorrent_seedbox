---
# Managed by Ansible
schema_version: 1
rules:
  app:
    deny_unexpected: true
    rules:
      - pattern: "*.nfo"
        min: 1
        max: 1
        description: "Requires only one .nfo file"
      - pattern: "file_id.diz"
        min: 1
        max: 1
        description: "Requires exactly one file_id.diz file"
      - pattern: "*.diz"
        max: 1
        description: "Requires no other .diz files besides file_id.diz"
      - pattern: "*.zip"
        min: 1
        description: "Requires at least one .zip file"
  audiobook:
    deny_unexpected: true
    rules:
      - pattern: "*.m3u"
        min: 1
        description: "Requires at least one .m3u file"
      - pattern: "*.sfv"
        min: 1
        description: "Requires at least one .sfv file"
      - pattern: "*.nfo"
        min: 1
        max: 1
        description: "Requires only one .nfo file"
      - pattern: "*.mp3"
        min: 1
        description: "Requires at least one .mp3 file"
      - pattern: "*.jpg"
        description: "Allows any amount of .jpg files"
  book:
    deny_unexpected: true
    rules:
      - pattern: "*.nfo"
        min: 1
        max: 1
        description: "Requires only one .nfo file"
      - pattern: "file_id.diz"
        min: 1
        max: 1
        description: "Requires exactly one file_id.diz file"
      - pattern: "*.diz"
        max: 1
        description: "Requires no other .diz files besides file_id.diz"
      - pattern: "*.zip"
        min: 1
        description: "Requires at least one .zip file"
  comic:
    deny_unexpected: true
    rules:
      - pattern: "*.nfo"
        min: 1
        max: 1
        description: "Requires only one .nfo file"
      - pattern: "file_id.diz"
        min: 1
        max: 1
        description: "Requires exactly one file_id.diz file"
      - pattern: "*.diz"
        max: 1
        description: "Requires no other .diz files besides file_id.diz"
      - pattern: "*.zip"
        min: 1
        description: "Requires at least one .zip file"
  education:
    deny_unexpected: true
    rules:
      - pattern: "*.rar"
        min: 1
        max: 1
        description: "Requires only one .rar file"
      - pattern: "*.sfv"
        min: 1
        max: 1
        description: "Requires only one .sfv file"
      - pattern: "*.nfo"
        min: 1
        max: 1
        description: "Requires only one .nfo file"
      - pattern: ".*\\.[r-z]\\d{2}$"
        regex: true
        min: 1
        description: "It usually contains one or more .r?? files"
  episode:
    deny_unexpected: true
    rules:
      - pattern: "*.rar"
        min: 1
        max: 1
        description: "Requires only one .rar file"
      - pattern: "*.sfv"
        min: 1
        max: 1
        description: "Requires only one .sfv file"
      - pattern: "*.nfo"
        min: 1
        max: 1
        description: "Requires only one .nfo file"
      - pattern: "Sample"
        type: dir
        min: 1
        max: 1
        description: "Requires only one Sample folder"
      # Syntax {mkv,mp4} handles the "OR" logic for extensions
      - pattern: "Sample/*.{mkv,mp4}"
        min: 1
        max: 1
        description: "Requires only one *.{mkv,mp4} \
                      file inside the Sample folder"
      - pattern: ".*\\.[r-z]\\d{2}$"
        regex: true
        min: 1
        description: "Requires at least one .r?? file"
      - pattern: "Proof"
        type: dir
        max: 1
        description: "Allows Proof folder, but not required"
      - pattern: "Proof/*.jpg"
        description: "Allows any amount of .jpg files in the Proof folder"
  game:
    deny_unexpected: true
    rules:
      - pattern: "*.rar"
        min: 1
        max: 1
        description: "Requires only one .rar file"
      - pattern: "*.sfv"
        min: 1
        max: 1
        description: "Requires only one .sfv file"
      - pattern: "*.nfo"
        min: 1
        max: 1
        description: "Requires only one .nfo file"
      - pattern: ".*\\.[r-z]\\d{2}$"
        regex: true
        min: 1
        description: "Requires at least one .r?? file"
  magazine:
    deny_unexpected: true
    rules:
      - pattern: "*.nfo"
        min: 1
        max: 1
        description: "Requires only one .nfo file"
      - pattern: "file_id.diz"
        min: 1
        max: 1
        description: "Requires exactly one file_id.diz file"
      - pattern: "*.diz"
        max: 1
        description: "Requires no other .diz files besides file_id.diz"
      - pattern: "*.zip"
        min: 1
        description: "Requires at least one .zip file"
  movie:
    deny_unexpected: true
    rules:
      - pattern: "*.rar"
        min: 1
        max: 1
        description: "Requires only one .rar file"
      - pattern: "*.sfv"
        min: 1
        max: 1
        description: "Requires only one .sfv file"
      - pattern: "*.nfo"
        min: 1
        max: 1
        description: "Requires only one .nfo file"
      - pattern: "Sample"
        type: dir
        min: 1
        max: 1
        description: "Requires only one Sample folder"
      - pattern: "Sample/*.{mkv,mp4}"
        min: 1
        max: 1
        description: "Requires only one *.{mkv,mp4} file \
                      inside the Sample folder"
      - pattern: ".*\\.[r-z]\\d{2}$"
        regex: true
        min: 1
        description: "Requires at least one .r?? file"
      - pattern: "Proof"
        type: dir
        max: 1
        description: "Allows Proof folder, but not required"
      - pattern: "Proof/*.jpg"
        description: "Allows any amount of .jpg files in the Proof folder"
  music:
    deny_unexpected: true
    rules:
      - pattern: "*.m3u"
        min: 1
        description: "Requires at least one .m3u file"
      - pattern: "*.sfv"
        min: 1
        description: "Requires at least one .sfv file"
      - pattern: "*.nfo"
        min: 1
        max: 1
        description: "Requires only one .nfo file"
      - pattern: "*.{mp3,flac}"
        min: 1
        description: "Requires at least one .mp3 or .flac file"
      - pattern: "*.jpg"
        description: "Allows JPEG files"
  series:
    deny_unexpected: true
    rules:
      - pattern: "*"
        type: dir
        min: 2
        description: "Requires at least two subfolders"
